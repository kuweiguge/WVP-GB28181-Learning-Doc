import{_ as c,r as o,o as r,c as p,a as n,b as s,d as a,w as i,e}from"./app-NmqmjXM3.js";const u="/WVP-GB28181-Learning-Doc/assets/9_5_1-q2LkYm7y.png",d="/WVP-GB28181-Learning-Doc/assets/9_5_2-Fxx6KTOK.png",g="/WVP-GB28181-Learning-Doc/assets/J_10_1-BnRP55jZ.png",m="/WVP-GB28181-Learning-Doc/assets/J_10_7-cvmZFvfH.png",v={},_=n("h1",{id:"国标gb28181协议",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#国标gb28181协议","aria-hidden":"true"},"#"),s(" 国标GB28181协议")],-1),h={href:"http://c.gb688.cn/bzgk/gb/showGb?type=online&hcno=8BBC2475624A6C31DC34A28052B3923D",target:"_blank",rel:"noopener noreferrer"},k=e('<h2 id="主要组成" tabindex="-1"><a class="header-anchor" href="#主要组成" aria-hidden="true">#</a> 主要组成</h2><ol><li><strong>系统组成</strong>：监控中心、传输设备、编码设备、解码设备等。</li><li><strong>信息传输</strong>：实时视频、历史视频、报警信息等。</li><li><strong>信息交换</strong>：设备控制、设备状态查询、设备配置等。</li><li><strong>信息控制</strong>：设备控制、设备状态查询、设备配置等。</li></ol><h2 id="关键部分" tabindex="-1"><a class="header-anchor" href="#关键部分" aria-hidden="true">#</a> 关键部分</h2><ol><li><strong>设备编码</strong>：每个设备的唯一标识。由14位的行政区划代码和后续编号组成，用于唯一标识一个设备。</li><li><strong>信令传输</strong>：使用<strong>SIP</strong>（Session Initiation Protocol，会话初始协议）进行信令传输。SIP是一个基于文本的协议，用于创建、修改和终止包括视频、音频和消息在内的会话。</li><li><strong>媒体传输</strong>： 使用<strong>RTP</strong>（Real-time Transport Protocol，实时传输协议）进行媒体传输，如音频和视频。</li><li><strong>设备控制</strong>： 使用<strong>CSTA</strong>（Computer Supported Telecommunications Applications，计算机支持的电信应用）进行设备控制。CSTA是一种基于XML的协议，用于描述设备的状态和控制设备的操作。</li></ol><h2 id="如何使用" tabindex="-1"><a class="header-anchor" href="#如何使用" aria-hidden="true">#</a> 如何使用</h2><p>例如准备开发设备信息查询功能</p>',6),b=n("li",null,[s("找到"),n("strong",null,"9.5 网络设备信息查询")],-1),x=n("li",null,[s("阅读一下"),n("strong",null,"9.5.1网络设备信息查询基本要求"),s("和"),n("strong",null,"9.5.2 命令流程"),n("img",{src:u,alt:""}),n("img",{src:d,alt:""})],-1),f=n("strong",null,"附录A(规范性附录)联网系统控制描述协议(MANSCDP)命令集",-1),q={href:"https://www.w3school.com.cn/schema/index.asp",target:"_blank",rel:"noopener noreferrer"},y=n("li",null,[s("查询命令都在 "),n("strong",null,"A.2.4 查询命令"),s(",这里说明了所有的查询命令都是这样的格式，"),n("code",null,'elementname="Query"'),s("标识xml标签名称是"),n("code",null,"Query")],-1),D=e(`<div class="language-Plain line-numbers-mode" data-ext="Plain"><pre class="language-Plain"><code>&lt;elementname=&quot;Query&quot;&gt;
    &lt;complexType&gt; 
        &lt;sequence&gt;
            &lt;!-具体命令内容-&gt; 
        &lt;/sequence&gt;
    &lt;/complexType&gt; 
&lt;/element&gt; 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对应的xml应该是</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Query</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!-具体命令内容-</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Query</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>找到 <strong>c) 设备信息查询请求</strong> 这是xml描述,<code>fixed=&quot;DeviceInfo&quot;</code>代表xml标签<code>&lt;CmdType&gt;</code>的值<strong>固定</strong>是<code>DeviceInfo</code></li></ol><div class="language-tPlain line-numbers-mode" data-ext="tPlain"><pre class="language-tPlain"><code>&lt;! - 命令类型:设备信息查询(必选)-&gt; 
&lt;elementname=&quot;CmdType&quot; fixed =&quot;DeviceInfo&quot;/&gt;
&lt;! - - 命 令 序 列 号 (必 选 )- -&gt;
&lt;elementname=&quot;SN&quot; type=&quot;integer&quot; minInclusivevalue=&quot;1&quot;/&gt;
&lt;! - - 目 标 设 备 的 设 备 编 码 (必 选 )- -&gt;
&lt;elementname=&quot;DeviceID&quot; type=&quot;tg:deviceIDType&quot;/&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>对应的xml应该是</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Query</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>CmdType</span><span class="token punctuation">&gt;</span></span>DeviceInfo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>CmdType</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>SN</span><span class="token punctuation">&gt;</span></span>111<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>SN</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>DeviceID</span><span class="token punctuation">&gt;</span></span>15060300081320000001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>DeviceID</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Query</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7),P={href:"https://zhuanlan.zhihu.com/p/343893930",target:"_blank",rel:"noopener noreferrer"},B=e('<ol start="7"><li>也可以找到消息示范查看，在 <strong>附录J (规范性附录) 信令消息示范</strong> 的 <strong>J.10设备信息查询消息示范</strong></li></ol><p>发送消息示范 <img src="'+g+'" alt=""> 响应消息示范 <img src="'+m+'" alt=""></p><p>同理可以完成 <code>设备心跳查询</code> <code>设备目录查询</code>等</p>',3);function I(T,C){const t=o("ExternalLinkIcon"),l=o("RouterLink");return r(),p("div",null,[_,n("p",null,[n("a",h,[s("GB28181"),a(t)]),s("是一项国家标准，全称为《公共安全视频监控联网系统信息传输、交换、控制技术要求》。 这项标准主要规定了视频监控系统的互联结构,传输、交换、控制的基 本要求和安全性要求,以及控制、传输流程和协议接口等技术要求。")]),k,n("ol",null,[n("li",null,[s("打开国标文档"),a(l,{to:"/guide/gb28181-2016.html"},{default:i(()=>[s("GB/T 28181-2016")]),_:1})]),b,x,n("li",null,[s("再查询一下具体命令是什么样，都在"),f,s("，这里的命令描述采用"),n("a",q,[s("XML Schema"),a(t)]),s(",建议一定要了解。")]),y]),D,n("p",null,[s("构建SIP请求时，把请求的内容设置称这个xml就可以了。Java的xml构建可以使用"),n("a",P,[s("JAXB"),a(t)]),s("，可以方便的将Java对象转为xml。")]),B,n("p",null,[a(l,{to:"/data/"},{default:i(()=>[s("更多资料")]),_:1})])])}const L=c(v,[["render",I],["__file","GB28181.html.vue"]]);export{L as default};
